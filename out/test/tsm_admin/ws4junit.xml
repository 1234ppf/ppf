<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:jaxws="http://cxf.apache.org/jaxws"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd">

	<description>Apache CXF Web Service</description>
    <import resource="classpath:META-INF/cxf/cxf.xml" />
    <import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />
    <import resource="classpath:META-INF/cxf/cxf-servlet.xml" />

	<!-- ************************************************************************************ -->
    <!-- ws clinet -->
    <bean id="helloClient" class="com.xframe.core.webservice.ICommonWebService"
        factory-bean="helloClientFactory" factory-method="create" />
        <bean id="helloClientFactory"
            class="org.apache.cxf.jaxws.JaxWsProxyFactoryBean">
            <property name="serviceClass"
                value="com.xframe.core.webservice.ICommonWebService" />
            <property name="address"
                value="http://localhost:9008/services/CommonWebService" />
            <property name="outInterceptors">
                <list>
                    <bean
                        class="org.apache.cxf.binding.soap.saaj.SAAJOutInterceptor" />
                        <ref bean="wss4jOutConfiguration" />
                </list>
            </property>
        </bean>
        <bean id="wss4jOutConfiguration"
            class="org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor">
            <property name="properties">
            <map>
                <entry key="action" value="UsernameToken" />
                <entry key="user" value="infindo" />
                <entry key="passwordType" value="PasswordText" />
                <entry>
                    <key>
                        <value>passwordCallbackRef</value>
                    </key>
                    <ref bean="passwordCallback" />
                </entry>
            </map>
        </property>
    </bean>
    <bean id="passwordCallback"
        class="com.xframe.core.webservice.WebServiceClientPass">
    </bean>



</beans>
